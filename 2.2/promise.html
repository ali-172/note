<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>

        function doSomething(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log("完成了一些事");

                    //promise的兑现值
                    resolve("ok");

                },100)
            })
        }


        doSomething().then((vaue)=>{
            console.log(vaue);

        },(error)=>{

        })

        //扁平化处理

        doSomething()
        .then((url)=> fetch(url))
        .then((res)=>res.json())
        .then((data)=>{
            listOfIngredients.push(data);
        })
        .then(()=>{
            console.log(listOfIngredients);
        })

    new Promise((resolve, reject) => {
  console.log("初始化");

  resolve();
})
  .then(() => {
    throw new Error("有哪里不对了");

    console.log("执行「这个」");
  })
  .catch(() => {
    console.log("执行「那个」");
  })
  .then(() => {
    console.log("执行「这个」，无论前面发生了什么");
  });


    </script>
    
</body>
</html>